<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operalta - Portfolio Management</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Source+Sans+3:wght@400;600&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        :root {
            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --text-primary: #f3f4f6;
            --text-secondary: #9ca3af;
            --accent-blue: #3b82f6;
            --accent-orange: #f97316;
            --accent-pink: #ec4899;
            --accent-purple: #8b5cf6;
            --border-color: #374151;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Source Sans 3', sans-serif;
        }

        .font-heading {
            font-family: 'Playfair Display', serif;
        }

        .font-body {
            font-family: 'Source Sans 3', sans-serif;
        }

        .bg-primary { background-color: var(--bg-primary); }
        .bg-secondary { background-color: var(--bg-secondary); }
        .text-primary { color: var(--text-primary); }
        .text-secondary { color: var(--text-secondary); }
        
        .text-accent-blue { color: var(--accent-blue); }
        .text-accent-orange { color: var(--accent-orange); }
        .text-accent-pink { color: var(--accent-pink); }
        .text-accent-purple { color: var(--accent-purple); }

        .bg-accent-blue { background-color: var(--accent-blue); }
        .bg-accent-orange { background-color: var(--accent-orange); }
        .bg-accent-pink { background-color: var(--accent-pink); }
        .bg-accent-purple { background-color: var(--accent-purple); }

        .border-custom { border-color: var(--border-color); }
        
        .donut-chart-segment {
            transition: all 0.3s ease;
        }

        .nav-link.active {
            color: var(--accent-blue);
        }

        /* Data Pipeline Animation */
        .pipeline-stage {
            transition: all 0.3s ease-in-out;
        }
        .pipeline-connector {
             transition: all 0.3s ease-in-out;
        }
        .pipeline-stage:hover {
            transform: scale(1.05);
            background-color: #374151;
        }
        .pipeline-stage:hover .pipeline-icon {
            transform: rotate(10deg);
        }

        /* Knowledge Graph Animation */
        .kg-node {
            transition: all 0.3s ease-in-out;
            cursor: pointer;
        }
        .kg-line, .kg-text {
            transition: opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-primary border-b border-custom sticky top-0 z-10">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between h-16">
                    <!-- Logo -->
                    <div class="flex items-center space-x-3">
                        <div class="flex-shrink-0">
                            <!-- SVG Logo Icon (Updated) -->
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g>
                                    <path d="M6 12C10 8, 22 8, 26 12C22 16, 10 16, 6 12Z" stroke="#3B82F6" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6 16C10 12, 22 12, 26 16C22 20, 10 20, 6 16Z" stroke="#F97316" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M6 20C10 16, 22 16, 26 20C22 24, 10 24, 6 20Z" stroke="#EC4899" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </g>
                            </svg>
                        </div>
                        <span class="font-heading text-2xl text-primary">Operalta</span>
                    </div>

                    <!-- Navigation -->
                    <nav class="hidden md:flex items-center space-x-8">
                        <a href="#dashboard" class="nav-link font-body font-semibold hover:text-accent-blue transition-colors">Dashboard</a>
                        <a href="#portfolios" class="nav-link font-body font-semibold text-secondary hover:text-accent-blue transition-colors">Portfolios</a>
                        <a href="#clients" class="nav-link font-body font-semibold text-secondary hover:text-accent-blue transition-colors">Clients</a>
                        <a href="#reports" class="nav-link font-body font-semibold text-secondary hover:text-accent-blue transition-colors">Reports</a>
                        <a href="#analysis" class="nav-link font-body font-semibold text-secondary hover:text-accent-blue transition-colors">Analysis</a>
                    </nav>

                    <!-- CTA -->
                    <div>
                        <a href="#" class="bg-accent-blue text-white px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Log Out</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
            <!-- Dashboard Page -->
            <div id="dashboard" class="page-content">
                <h1 class="font-heading text-4xl mb-8">Dashboard</h1>
                <!-- Key Metrics Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- AUM Card -->
                    <div class="bg-secondary p-6 rounded-lg shadow-lg">
                        <h3 class="text-sm font-semibold text-secondary uppercase tracking-wider">Total AUM</h3>
                        <p class="text-3xl font-bold mt-2">$25,430,890.72</p>
                        <p class="text-sm mt-1 text-green-400 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd" /></svg>
                            <span>+2.1% this month</span>
                        </p>
                    </div>
                    <!-- Performance Card -->
                    <div class="bg-secondary p-6 rounded-lg shadow-lg">
                        <h3 class="text-sm font-semibold text-secondary uppercase tracking-wider">YTD Performance</h3>
                        <p class="text-3xl font-bold mt-2 text-accent-orange">+11.45%</p>
                        <p class="text-sm mt-1 text-secondary">vs. +9.80% Benchmark</p>
                    </div>
                    <!-- Active Portfolios Card -->
                    <div class="bg-secondary p-6 rounded-lg shadow-lg">
                        <h3 class="text-sm font-semibold text-secondary uppercase tracking-wider">Active Portfolios</h3>
                        <p class="text-3xl font-bold mt-2 text-accent-pink">78</p>
                        <p class="text-sm mt-1 text-secondary">3 new this week</p>
                    </div>
                    <!-- Risk Metric Card -->
                    <div class="bg-secondary p-6 rounded-lg shadow-lg">
                        <h3 class="text-sm font-semibold text-secondary uppercase tracking-wider">Sharpe Ratio</h3>
                        <p class="text-3xl font-bold mt-2 text-accent-purple">1.82</p>
                        <p class="text-sm mt-1 text-secondary">Trailing 12-months</p>
                    </div>
                </div>
                <!-- Main Dashboard Area -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Asset Allocation Chart -->
                    <div class="lg:col-span-2 bg-secondary p-6 rounded-lg shadow-lg">
                        <h2 class="font-heading text-2xl mb-4">Asset Allocation</h2>
                        <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                            <!-- SVG Donut Chart -->
                            <div class="relative w-64 h-64">
                                <svg class="w-full h-full" viewBox="0 0 36 36">
                                    <circle cx="18" cy="18" r="15.91549430918954" fill="transparent" stroke="var(--border-color)" stroke-width="3"></circle>
                                    <circle class="donut-chart-segment" cx="18" cy="18" r="15.91549430918954" fill="transparent" stroke="var(--accent-blue)" stroke-width="3" stroke-dasharray="45 55" stroke-dashoffset="25"></circle>
                                    <circle class="donut-chart-segment" cx="18" cy="18" r="15.91549430918954" fill="transparent" stroke="var(--accent-orange)" stroke-width="3" stroke-dasharray="30 70" stroke-dashoffset="-20"></circle>
                                    <circle class="donut-chart-segment" cx="18" cy="18" r="15.91549430918954" fill="transparent" stroke="var(--accent-pink)" stroke-width="3" stroke-dasharray="15 85" stroke-dashoffset="-50"></circle>
                                    <circle class="donut-chart-segment" cx="18" cy="18" r="15.91549430918954" fill="transparent" stroke="var(--accent-purple)" stroke-width="3" stroke-dasharray="10 90" stroke-dashoffset="-65"></circle>
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <span class="text-center">
                                        <span class="font-bold text-3xl">AUM</span><br/>
                                        <span class="text-secondary text-sm">$125.4M</span>
                                    </span>
                                </div>
                            </div>
                            <!-- Legend -->
                            <div class="w-full md:w-auto flex flex-col space-y-4">
                                <div class="flex items-center">
                                    <span class="w-4 h-4 rounded-full bg-accent-blue mr-3"></span>
                                    <div>
                                        <p class="font-semibold">Equities</p>
                                        <p class="text-sm text-secondary">45%</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-4 h-4 rounded-full bg-accent-orange mr-3"></span>
                                    <div>
                                        <p class="font-semibold">Fixed Income</p>
                                        <p class="text-sm text-secondary">30%</p>
                                    </div>
                                </div>
                                 <div class="flex items-center">
                                    <span class="w-4 h-4 rounded-full bg-accent-pink mr-3"></span>
                                    <div>
                                        <p class="font-semibold">Alternatives</p>
                                        <p class="text-sm text-secondary">15%</p>
                                    </div>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-4 h-4 rounded-full bg-accent-purple mr-3"></span>
                                    <div>
                                        <p class="font-semibold">Crypto</p>
                                        <p class="text-sm text-secondary">10%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Recent Trades Table -->
                    <div class="bg-secondary p-6 rounded-lg shadow-lg">
                        <h2 class="font-heading text-2xl mb-4">Recent Trades</h2>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead>
                                    <tr class="border-b border-custom">
                                        <th class="py-2 font-semibold text-sm text-secondary">Asset</th>
                                        <th class="py-2 font-semibold text-sm text-secondary">Type</th>
                                        <th class="py-2 font-semibold text-sm text-secondary text-right">Value</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-custom">
                                        <td class="py-3 font-semibold">AAPL</td>
                                        <td><span class="text-xs font-bold uppercase bg-green-500/20 text-green-400 px-2 py-1 rounded-full">Buy</span></td>
                                        <td class="text-right font-mono">$250,000</td>
                                    </tr>
                                    <tr class="border-b border-custom">
                                        <td class="py-3 font-semibold">TSLA</td>
                                        <td><span class="text-xs font-bold uppercase bg-red-500/20 text-red-400 px-2 py-1 rounded-full">Sell</span></td>
                                        <td class="text-right font-mono">$112,300</td>
                                    </tr>
                                    <tr class="border-b border-custom">
                                        <td class="py-3 font-semibold">NVDA</td>
                                        <td><span class="text-xs font-bold uppercase bg-green-500/20 text-green-400 px-2 py-1 rounded-full">Buy</span></td>
                                        <td class="text-right font-mono">$45,600</td>
                                    </tr>
                                    <tr>
                                        <td class="py-3 font-semibold">BTC</td>
                                        <td><span class="text-xs font-bold uppercase bg-purple-500/20 text-purple-400 px-2 py-1 rounded-full">Buy</span></td>
                                        <td class="text-right font-mono">$78,150</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Portfolios Page -->
            <div id="portfolios" class="page-content hidden">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="font-heading text-4xl">Portfolios</h1>
                    <button class="bg-accent-blue text-white px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Create New Portfolio</button>
                </div>
                <div class="bg-secondary rounded-lg shadow-lg overflow-hidden">
                    <table class="w-full text-left">
                        <thead class="bg-primary">
                            <tr>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Portfolio Name</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Client</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-right">Market Value</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-right">YTD Return</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-custom">
                            <tr>
                                <td class="p-4 font-semibold">Sustainable Growth Fund</td>
                                <td class="p-4 text-secondary">Arthur Welles</td>
                                <td class="p-4 text-right font-mono">$1,250,670.50</td>
                                <td class="p-4 text-right font-mono text-green-400">+15.2%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Balanced Income Portfolio</td>
                                <td class="p-4 text-secondary">Eleanor Roosevelt</td>
                                <td class="p-4 text-right font-mono">$5,830,110.20</td>
                                <td class="p-4 text-right font-mono text-green-400">+8.1%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                             <tr>
                                <td class="p-4 font-semibold">Tech Innovators Fund</td>
                                <td class="p-4 text-secondary">Sam Wilson</td>
                                <td class="p-4 text-right font-mono">$2,345,980.00</td>
                                <td class="p-4 text-right font-mono text-green-400">+22.5%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                             <tr>
                                <td class="p-4 font-semibold">Global Dividend Strategy</td>
                                <td class="p-4 text-secondary">Emily White</td>
                                <td class="p-4 text-right font-mono">$890,450.75</td>
                                <td class="p-4 text-right font-mono text-green-400">+6.7%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Quantum Edge Fund</td>
                                <td class="p-4 text-secondary">Winston Musk</td>
                                <td class="p-4 text-right font-mono">$7,120,300.00</td>
                                <td class="p-4 text-right font-mono text-green-400">+18.9%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Sustainable Horizons Trust</td>
                                <td class="p-4 text-secondary">Audrey Bezos</td>
                                <td class="p-4 text-right font-mono">$3,500,000.00</td>
                                <td class="p-4 text-right font-mono text-green-400">+9.5%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Digital Assets Alpha</td>
                                <td class="p-4 text-secondary">Clark Zuckerberg</td>
                                <td class="p-4 text-right font-mono">$1,950,820.10</td>
                                <td class="p-4 text-right font-mono text-red-400">-5.2%</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Clients Page -->
            <div id="clients" class="page-content hidden">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="font-heading text-4xl">Clients</h1>
                    <button class="bg-accent-blue text-white px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Add New Client</button>
                </div>
                <div class="bg-secondary rounded-lg shadow-lg overflow-hidden mb-12">
                    <table class="w-full text-left">
                        <thead class="bg-primary">
                            <tr>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Client Name</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Risk Profile</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Joined Date</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-right">Total AUM</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-custom">
                            <tr>
                                <td class="p-4 font-semibold">Arthur Welles</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-orange-500/20 text-orange-400 px-2 py-1 rounded-full">Growth</span></td>
                                <td class="p-4 text-secondary">2021-03-15</td>
                                <td class="p-4 text-right font-mono">$1,250,670.50</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Eleanor Roosevelt</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full">Moderate</span></td>
                                <td class="p-4 text-secondary">2019-11-01</td>
                                <td class="p-4 text-right font-mono">$5,830,110.20</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                             <tr>
                                <td class="p-4 font-semibold">Sam Wilson</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-orange-500/20 text-orange-400 px-2 py-1 rounded-full">Growth</span></td>
                                <td class="p-4 text-secondary">2023-01-20</td>
                                <td class="p-4 text-right font-mono">$2,345,980.00</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                             <tr>
                                <td class="p-4 font-semibold">Emily White</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-green-500/20 text-green-400 px-2 py-1 rounded-full">Conservative</span></td>
                                <td class="p-4 text-secondary">2018-06-10</td>
                                <td class="p-4 text-right font-mono">$890,450.75</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Marilyn Gates</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full">Moderate</span></td>
                                <td class="p-4 text-secondary">2022-05-20</td>
                                <td class="p-4 text-right font-mono">$12,450,000.00</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Winston Musk</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-red-500/20 text-red-400 px-2 py-1 rounded-full">High Growth</span></td>
                                <td class="p-4 text-secondary">2024-02-18</td>
                                <td class="p-4 text-right font-mono">$7,120,300.00</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Audrey Bezos</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-green-500/20 text-green-400 px-2 py-1 rounded-full">Conservative</span></td>
                                <td class="p-4 text-secondary">2020-09-01</td>
                                <td class="p-4 text-right font-mono">$3,500,000.00</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Clark Zuckerberg</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-orange-500/20 text-orange-400 px-2 py-1 rounded-full">Growth</span></td>
                                <td class="p-4 text-secondary">2023-11-11</td>
                                <td class="p-4 text-right font-mono">$1,950,820.10</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="flex justify-between items-center mb-8">
                    <h1 class="font-heading text-4xl">Prospects</h1>
                    <button class="bg-accent-orange text-white px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Add New Prospect</button>
                </div>
                 <div class="bg-secondary rounded-lg shadow-lg overflow-hidden">
                    <table class="w-full text-left">
                        <thead class="bg-primary">
                            <tr>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Prospect Name</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Stage</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Next Action</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Assigned To</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-custom">
                            <tr>
                                <td class="p-4 font-semibold">Frank Cook</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-purple-500/20 text-purple-400 px-2 py-1 rounded-full">Proposal Sent</span></td>
                                <td class="p-4 text-secondary">Follow-up call on 2025-07-21</td>
                                <td class="p-4 text-secondary">Sarah Lee</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Grace Hopper</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full">Needs Analysis</span></td>
                                <td class="p-4 text-secondary">Prepare risk profile</td>
                                <td class="p-4 text-secondary">Arthur Welles</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                             <tr>
                                <td class="p-4 font-semibold">Henry Ford</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded-full">Initial Contact</span></td>
                                <td class="p-4 text-secondary">Schedule intro meeting</td>
                                <td class="p-4 text-secondary">Eleanor Roosevelt</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                             <tr>
                                <td class="p-4 font-semibold">Isaac Newton</td>
                                <td class="p-4"><span class="text-xs font-bold uppercase bg-pink-500/20 text-pink-400 px-2 py-1 rounded-full">Negotiation</span></td>
                                <td class="p-4 text-secondary">Finalize fee structure</td>
                                <td class="p-4 text-secondary">Sarah Lee</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">View</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="reports" class="page-content hidden">
                <div class="flex justify-between items-center mb-8">
                    <h1 class="font-heading text-4xl">Reports</h1>
                    <button class="bg-accent-blue text-white px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Generate New Report</button>
                </div>
                <div class="bg-secondary rounded-lg shadow-lg overflow-hidden">
                    <table class="w-full text-left">
                        <thead class="bg-primary">
                            <tr>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Report Name</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Date Generated</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase">Type</th>
                                <th class="p-4 font-semibold text-sm text-secondary uppercase text-center">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-custom">
                            <tr>
                                <td class="p-4 font-semibold">Q2 2025 Performance Summary</td>
                                <td class="p-4 text-secondary">2025-07-01</td>
                                <td class="p-4 text-secondary">Performance</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">Download</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">Tax Loss Harvesting 2024</td>
                                <td class="p-4 text-secondary">2025-01-15</td>
                                <td class="p-4 text-secondary">Tax</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">Download</a></td>
                            </tr>
                            <tr>
                                <td class="p-4 font-semibold">All Clients AUM Overview</td>
                                <td class="p-4 text-secondary">2025-07-14</td>
                                <td class="p-4 text-secondary">AUM</td>
                                <td class="p-4 text-center"><a href="#" class="text-accent-blue hover:underline">Download</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Analysis Page -->
            <div id="analysis" class="page-content hidden">
                <!-- Main Analysis View -->
                <div id="analysis-main">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <!-- Data Sources Card -->
                        <div class="bg-secondary p-6 rounded-lg shadow-lg">
                            <h3 class="text-sm font-semibold text-secondary uppercase tracking-wider">Data Sources</h3>
                            <p class="text-4xl font-bold mt-2">147</p>
                            <p class="text-sm mt-1 text-green-400">+12 since last month</p>
                        </div>
                        <!-- Models Active Card -->
                        <div class="bg-secondary p-6 rounded-lg shadow-lg">
                            <h3 class="text-sm font-semibold text-secondary uppercase tracking-wider">Models Active</h3>
                            <p class="text-4xl font-bold mt-2">23</p>
                            <p class="text-sm mt-1 text-green-400">+5 new models created</p>
                        </div>
                        <!-- Market Trends Card -->
                        <div class="lg:col-span-1 md:col-span-2 bg-secondary p-6 rounded-lg shadow-lg">
                             <h3 class="font-heading text-xl mb-2">Market Trends</h3>
                             <p class="text-sm text-secondary mb-2">Real-time data feed.</p>
                             <div class="w-full h-20">
                                 <svg class="w-full h-full" viewBox="0 0 300 100" preserveAspectRatio="none">
                                    <polyline fill="none" stroke="var(--accent-purple)" stroke-width="2" points="0,50 20,60 40,55 60,70 80,65 100,80 120,75 140,90 160,85 180,70 200,60 220,50 240,40 260,30 280,45 300,40" />
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col space-y-8">
                        <!-- Ingest Data -->
                        <div class="bg-accent-blue p-8 rounded-lg shadow-lg flex flex-col md:flex-row items-center justify-between text-white">
                            <div class="mb-4 md:mb-0 md:mr-6">
                                <h2 class="font-heading text-2xl mb-2">Ingest Data</h2>
                                <p class="opacity-80">Connect your sources + discover & augment with millions of data points.</p>
                            </div>
                            <button data-target="ingest-data-page" class="analysis-action-btn bg-white/20 hover:bg-white/30 transition-colors text-white px-6 py-3 rounded-md font-semibold whitespace-nowrap">Start Data Discovery &rarr;</button>
                        </div>
                        
                        <!-- Synthesize Data -->
                        <div class="bg-accent-orange p-8 rounded-lg shadow-lg flex flex-col md:flex-row items-center justify-between text-white">
                            <div class="mb-4 md:mb-0 md:mr-6">
                                <h2 class="font-heading text-2xl mb-2">Synthesize Data</h2>
                                <p class="opacity-80">Generate new insights from existing data sources.</p>
                            </div>
                            <button data-target="synthesize-data-page" class="analysis-action-btn bg-white/20 hover:bg-white/30 transition-colors text-white px-6 py-3 rounded-md font-semibold whitespace-nowrap">Start Synthesizing &rarr;</button>
                        </div>

                        <!-- Dynamic Modeling -->
                        <div class="bg-accent-pink p-8 rounded-lg shadow-lg flex flex-col md:flex-row items-center justify-between text-white">
                            <div class="mb-4 md:mb-0 md:mr-6">
                                <h2 class="font-heading text-2xl mb-2">Dynamic Modeling</h2>
                                <p class="opacity-80">Build sophisticated financial models interactively.</p>
                            </div>
                            <button data-target="dynamic-modeling-page" class="analysis-action-btn bg-white/20 hover:bg-white/30 transition-colors text-white px-6 py-3 rounded-md font-semibold whitespace-nowrap">Explore Models &rarr;</button>
                        </div>
                    </div>
                </div>

                <!-- Ingest Data Page -->
                <div id="ingest-data-page" class="analysis-subpage hidden">
                    <button class="analysis-back-btn mb-6 font-semibold text-accent-blue hover:underline">&larr; Back to Analysis Workflow</button>
                    <h1 class="font-heading text-4xl mb-8">Data Ingestion Pipeline</h1>
                    <div class="bg-secondary p-8 rounded-lg">
                        <div class="flex flex-col items-center space-y-0">
                            <!-- Stage 1 -->
                            <div class="pipeline-stage w-full max-w-md bg-primary p-4 rounded-lg flex items-center space-x-4">
                                <div class="pipeline-icon p-3 bg-accent-blue/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-accent-blue" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3h2m-4 16h2" /></svg></div>
                                <div><h3 class="font-semibold">Data Sources</h3><p class="text-sm text-secondary">SEC, News, Internal Docs</p></div>
                            </div>
                            <div class="pipeline-connector h-12 w-1 bg-border-color"></div>
                            <!-- Stage 2 -->
                            <div class="pipeline-stage w-full max-w-md bg-primary p-4 rounded-lg flex items-center space-x-4">
                                <div class="pipeline-icon p-3 bg-accent-blue/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-accent-blue" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" /></svg></div>
                                <div><h3 class="font-semibold">Ingestion & Augmentation</h3><p class="text-sm text-secondary">ETL, Normalization, API Augmentation</p></div>
                            </div>
                            <div class="pipeline-connector h-12 w-1 bg-border-color"></div>
                            <!-- Stage 3 -->
                            <div class="pipeline-stage w-full max-w-md bg-primary p-4 rounded-lg flex items-center space-x-4">
                                <div class="pipeline-icon p-3 bg-accent-orange/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-accent-orange" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M9 6l.465.465M12 12l8 8" /></svg></div>
                                <div><h3 class="font-semibold">Analysis Engine</h3><p class="text-sm text-secondary">AI & Quantitative Models</p></div>
                            </div>
                             <div class="pipeline-connector h-12 w-1 bg-border-color"></div>
                            <!-- Stage 4 -->
                             <div class="pipeline-stage w-full max-w-md bg-primary p-4 rounded-lg flex items-center space-x-4">
                                <div class="pipeline-icon p-3 bg-accent-pink/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-accent-pink" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg></div>
                                <div><h3 class="font-semibold">Insights Layer</h3><p class="text-sm text-secondary">Pattern Recognition & Anomaly Detection</p></div>
                            </div>
                             <div class="pipeline-connector h-12 w-1 bg-border-color"></div>
                            <!-- Stage 5 -->
                             <div class="pipeline-stage w-full max-w-md bg-primary p-4 rounded-lg flex items-center space-x-4">
                                <div class="pipeline-icon p-3 bg-accent-purple/20 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-accent-purple" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 011-1h1a2 2 0 100-4H7a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 001-1V4z" /></svg></div>
                                <div><h3 class="font-semibold">Strategy Generator</h3><p class="text-sm text-secondary">Actionable Outputs & Model Population</p></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Synthesize Data Page -->
                <div id="synthesize-data-page" class="analysis-subpage hidden">
                    <button class="analysis-back-btn mb-6 font-semibold text-accent-orange hover:underline">&larr; Back to Analysis Workflow</button>
                    <h1 class="font-heading text-4xl mb-8">                                <p class="opacity-80">Generate new Insights from existing data sources:</p></h1>
                    <div class="bg-secondary p-8 rounded-lg">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div class="lg:col-span-1">
                                <p class="mb-4 text-secondary">Hover over nodes to highlight connections. Enter a query to generate new insights from this graph.</p>
                                <textarea rows="6" class="w-full p-3 bg-primary border border-custom rounded-md focus:outline-none focus:ring-2 focus:ring-accent-orange" placeholder="e.g., 'Compare the Total Value Locked (TVL) of DeFi protocols on ETH vs. SOL'"></textarea>
                                <div class="text-right mt-4">
                                   <button class="bg-accent-orange text-white px-6 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Generate Dataset</button>
                               </div>
                            </div>
                            <div class="lg:col-span-2 min-h-[500px] bg-primary rounded-lg p-4 relative">
                                <svg id="knowledge-graph" class="w-full h-full" viewBox="0 0 800 600">
                                    <!-- Graph will be drawn by JS -->
                                </svg>
                            </div>
                        </div>
                   </div>
                </div>

                <!-- Dynamic Modeling Page -->
                <div id="dynamic-modeling-page" class="analysis-subpage hidden">
                    <button class="analysis-back-btn mb-6 font-semibold text-accent-pink hover:underline">&larr; Back to Analysis Workflow</button>
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="font-heading text-4xl">Your Models</h1>
                        <button id="create-model-btn" class="bg-accent-pink text-white px-4 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Create New Model</button>
                    </div>
                     <div class="bg-secondary p-8 rounded-lg">
                        <div class="space-y-6">
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Semiconductor Industry Outlook</h3><p class="text-secondary text-sm mb-4">A deep dive into the competitive landscape and future growth drivers for major chip manufacturers.</p><a href="#" data-target="semiconductor-model-page" class="model-link font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Renewable Energy DCF Model</h3><p class="text-secondary text-sm mb-4">A dynamic discounted cash flow model for a utility-scale solar energy project.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Leveraged Buyout (LBO) Model</h3><p class="text-secondary text-sm mb-4">Analyzes the acquisition of a company using a significant amount of borrowed money.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Merger & Acquisition (M&A) Model</h3><p class="text-secondary text-sm mb-4">Evaluates the financial impact of a merger or acquisition between two companies.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Sum-of-the-Parts (SOTP) Valuation</h3><p class="text-secondary text-sm mb-4">Values a company by determining what its aggregate divisions would be worth if spun off.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Monte Carlo Simulation</h3><p class="text-secondary text-sm mb-4">Models the probability of different outcomes in a process that cannot easily be predicted.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Real Options Analysis</h3><p class="text-secondary text-sm mb-4">Applies option valuation techniques to capital budgeting decisions.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Black-Scholes Option Pricing</h3><p class="text-secondary text-sm mb-4">Calculates the theoretical value of European-style options.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Value at Risk (VaR) Model</h3><p class="text-secondary text-sm mb-4">Quantifies the level of financial risk within a firm, portfolio, or position over a specific time frame.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Tokenomics & Vesting Schedule</h3><p class="text-secondary text-sm mb-4">Models the supply, demand, and distribution of a cryptocurrency asset.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">DEX Liquidity Pool Analysis</h3><p class="text-secondary text-sm mb-4">Analyzes potential returns and impermanent loss for liquidity providers on decentralized exchanges.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                            <div class="bg-primary p-6 rounded-lg shadow-md"><h3 class="font-heading text-xl mb-2">Yield Farming ROI Calculator</h3><p class="text-secondary text-sm mb-4">Estimates the potential return on investment from various yield farming strategies in DeFi.</p><a href="#" class="font-semibold text-accent-pink hover:underline">Open Model &rarr;</a></div>
                        </div>
                    </div>
                </div>
                
                <!-- Create New Model Page -->
                <div id="create-new-model-page" class="analysis-subpage hidden">
                    <button class="analysis-back-btn mb-6 font-semibold text-accent-pink hover:underline" data-target="dynamic-modeling-page">&larr; Back to Your Models</button>
                    <h1 class="font-heading text-4xl mb-8">Create New Dynamic Model</h1>
                    <div class="bg-secondary p-8 rounded-lg">
                        <form class="space-y-6">
                            <div>
                                <label for="model-name" class="block text-sm font-semibold mb-2">Model Name</label>
                                <input type="text" id="model-name" name="model-name" class="w-full p-3 bg-primary border border-custom rounded-md focus:outline-none focus:ring-2 focus:ring-accent-pink" placeholder="e.g., Tesla Q3 Earnings Forecast">
                            </div>
                             <div>
                                <label for="model-type" class="block text-sm font-semibold mb-2">Model Type</label>
                                <select id="model-type" name="model-type" class="w-full p-3 bg-primary border border-custom rounded-md focus:outline-none focus:ring-2 focus:ring-accent-pink">
                                    <option>Discounted Cash Flow (DCF)</option>
                                    <option>Leveraged Buyout (LBO)</option>
                                    <option>Merger & Acquisition (M&A)</option>
                                    <option>Comparable Company Analysis</option>
                                    <option>Custom Model</option>
                                </select>
                            </div>
                            <div>
                                <label for="model-description" class="block text-sm font-semibold mb-2">Description</label>
                                <textarea id="model-description" name="model-description" rows="4" class="w-full p-3 bg-primary border border-custom rounded-md focus:outline-none focus:ring-2 focus:ring-accent-pink" placeholder="Briefly describe the purpose and scope of this model."></textarea>
                            </div>
                             <div class="text-right">
                               <button type="submit" class="bg-accent-pink text-white px-6 py-2 rounded-md font-semibold hover:opacity-90 transition-opacity">Create Model</button>
                           </div>
                        </form>
                    </div>
                </div>

                <!-- Semiconductor Model Page -->
                <div id="semiconductor-model-page" class="analysis-subpage hidden">
                    <button class="analysis-back-btn mb-6 font-semibold text-accent-pink hover:underline" data-target="dynamic-modeling-page">&larr; Back to Your Models</button>
                    <h1 class="font-heading text-4xl mb-8">Semiconductor Industry Outlook</h1>
                    <div class="bg-secondary p-8 rounded-lg">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div class="lg:col-span-2">
                                <h2 class="font-heading text-2xl mb-4">Market Growth YoY</h2>
                                <div class="bg-primary p-4 rounded-lg h-80 flex items-end">
                                    <!-- Bar Chart SVG -->
                                    <svg class="w-full h-full" viewBox="0 0 300 200">
                                        <line x1="20" y1="180" x2="280" y2="180" stroke="var(--border-color)" stroke-width="2"/>
                                        <text x="50" y="195" font-size="10" fill="var(--text-secondary)">2023</text>
                                        <rect x="40" y="80" width="30" height="100" fill="var(--accent-blue)"/>
                                        <text x="42" y="75" font-size="10" fill="var(--text-primary)">12%</text>
                                        <text x="120" y="195" font-size="10" fill="var(--text-secondary)">2024</text>
                                        <rect x="110" y="50" width="30" height="130" fill="var(--accent-orange)"/>
                                        <text x="112" y="45" font-size="10" fill="var(--text-primary)">18%</text>
                                        <text x="190" y="195" font-size="10" fill="var(--text-secondary)">2025E</text>
                                        <rect x="180" y="100" width="30" height="80" fill="var(--accent-pink)"/>
                                        <text x="182" y="95" font-size="10" fill="var(--text-primary)">9%</text>
                                        <text x="260" y="195" font-size="10" fill="var(--text-secondary)">2026E</text>
                                        <rect x="250" y="70" width="30" height="110" fill="var(--accent-purple)"/>
                                        <text x="252" y="65" font-size="10" fill="var(--text-primary)">14%</text>
                                    </svg>
                                </div>
                            </div>
                            <div class="lg:col-span-1">
                                <h2 class="font-heading text-2xl mb-4">Key Metrics</h2>
                                <div class="space-y-4">
                                    <div class="bg-primary p-4 rounded-lg">
                                        <p class="text-sm text-secondary">Market Size (2025E)</p>
                                        <p class="text-xl font-bold">$750 Billion</p>
                                    </div>
                                    <div class="bg-primary p-4 rounded-lg">
                                        <p class="text-sm text-secondary">CAGR (2023-2026)</p>
                                        <p class="text-xl font-bold">11.5%</p>
                                    </div>
                                    <div class="bg-primary p-4 rounded-lg">
                                        <p class="text-sm text-secondary">Key Players</p>
                                        <p class="text-sm font-semibold">NVIDIA, TSMC, Intel</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8">
                            <h2 class="font-heading text-2xl mb-4">SWOT Analysis</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-primary p-4 rounded-lg"><h3 class="font-semibold mb-2 text-green-400">Strengths</h3><p class="text-sm text-secondary">High demand from AI and automotive sectors. Strong IP and R&D investment.</p></div>
                                <div class="bg-primary p-4 rounded-lg"><h3 class="font-semibold mb-2 text-red-400">Weaknesses</h3><p class="text-sm text-secondary">Complex, capital-intensive supply chains. Cyclical market demand.</p></div>
                                <div class="bg-primary p-4 rounded-lg"><h3 class="font-semibold mb-2 text-yellow-400">Opportunities</h3><p class="text-sm text-secondary">Expansion into IoT and edge computing. Government incentives (CHIPS Act).</p></div>
                                <div class="bg-primary p-4 rounded-lg"><h3 class="font-semibold mb-2 text-orange-400">Threats</h3><p class="text-sm text-secondary">Geopolitical tensions affecting supply chains. Intense competition and price pressure.</p></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </main>

        <!-- Footer -->
        <footer class="bg-primary border-t border-custom mt-8">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 text-center text-secondary text-sm">
                &copy; 2025 Operalta. All Rights Reserved.
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-content');
            
            const analysisMain = document.getElementById('analysis-main');
            const analysisActionBtns = document.querySelectorAll('.analysis-action-btn');
            const analysisSubpages = document.querySelectorAll('.analysis-subpage');
            const analysisBackBtns = document.querySelectorAll('.analysis-back-btn');

            const createModelBtn = document.getElementById('create-model-btn');
            const dynamicModelingPage = document.getElementById('dynamic-modeling-page');
            const modelLinks = document.querySelectorAll('.model-link');

            // --- Main Page Navigation ---
            function showPage(hash) {
                const targetId = (hash && document.querySelector(hash)) ? hash.substring(1) : 'dashboard';
                
                pages.forEach(page => {
                    page.id === targetId ? page.classList.remove('hidden') : page.classList.add('hidden');
                });

                navLinks.forEach(link => {
                    if (link.getAttribute('href') === `#${targetId}`) {
                        link.classList.add('active');
                        link.classList.remove('text-secondary');
                    } else {
                        link.classList.remove('active');
                        link.classList.add('text-secondary');
                    }
                });
                
                if (targetId === 'analysis') {
                    analysisMain.classList.remove('hidden');
                    analysisSubpages.forEach(p => p.classList.add('hidden'));
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const hash = event.currentTarget.getAttribute('href');
                    if(history.pushState) {
                        history.pushState(null, null, hash);
                    } else {
                        location.hash = hash;
                    }
                    showPage(hash);
                });
            });

            window.addEventListener('popstate', () => {
                showPage(window.location.hash);
            });
            
            // --- Analysis Sub-page Navigation ---
            function showAnalysisSubpage(targetId) {
                analysisMain.classList.add('hidden');
                analysisSubpages.forEach(p => {
                    p.id === targetId ? p.classList.remove('hidden') : p.classList.add('hidden');
                });
                if (targetId === 'synthesize-data-page') {
                    drawKnowledgeGraph();
                }
            }

            analysisActionBtns.forEach(btn => {
                btn.addEventListener('click', () => showAnalysisSubpage(btn.dataset.target));
            });
            
            analysisBackBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const targetId = e.currentTarget.dataset.target || 'analysis-main';
                    if (targetId === 'analysis-main') {
                        analysisSubpages.forEach(p => p.classList.add('hidden'));
                        analysisMain.classList.remove('hidden');
                    } else {
                        showAnalysisSubpage(targetId);
                    }
                });
            });
            
            if (createModelBtn) {
                createModelBtn.addEventListener('click', () => showAnalysisSubpage('create-new-model-page'));
            }

            modelLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showAnalysisSubpage(link.dataset.target);
                });
            });

            // --- Knowledge Graph ---
            function drawKnowledgeGraph() {
                const svgNS = "http://www.w3.org/2000/svg";
                const svg = document.getElementById('knowledge-graph');
                if (!svg) return;
                svg.innerHTML = '';

                const nodes = [
                    { id: 'crypto', label: 'Crypto', x: 400, y: 300, r: 50, color: 'var(--accent-purple)' },
                    { id: 'l1', label: 'Layer 1s', x: 200, y: 150, r: 40, color: 'var(--accent-blue)' },
                    { id: 'defi', label: 'DeFi', x: 600, y: 150, r: 40, color: 'var(--accent-orange)' },
                    { id: 'infra', label: 'Infrastructure', x: 200, y: 450, r: 40, color: 'var(--accent-pink)' },
                    { id: 'nft', label: 'NFTs/Gaming', x: 600, y: 450, r: 40, color: 'var(--accent-blue)' },
                    { id: 'eth', label: 'ETH', x: 100, y: 50, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'sol', label: 'SOL', x: 300, y: 50, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'aave', label: 'AAVE', x: 500, y: 50, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'uni', label: 'UNI', x: 700, y: 50, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'link', label: 'LINK', x: 100, y: 550, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'grt', label: 'GRT', x: 300, y: 550, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'bayc', label: 'BAYC', x: 500, y: 550, r: 25, color: 'var(--bg-secondary)' },
                    { id: 'axie', label: 'AXS', x: 700, y: 550, r: 25, color: 'var(--bg-secondary)' },
                ];

                const links = [
                    { source: 'crypto', target: 'l1' }, { source: 'crypto', target: 'defi' },
                    { source: 'crypto', target: 'infra' }, { source: 'crypto', target: 'nft' },
                    { source: 'l1', target: 'eth' }, { source: 'l1', target: 'sol' },
                    { source: 'defi', target: 'aave' }, { source: 'defi', target: 'uni' },
                    { source: 'infra', target: 'link' }, { source: 'infra', target: 'grt' },
                    { source: 'nft', target: 'bayc' }, { source: 'nft', target: 'axie' },
                    { source: 'l1', target: 'defi' }, { source: 'l1', target: 'infra' }, { source: 'l1', target: 'nft' }
                ];
                
                const elements = {};

                links.forEach((link, i) => {
                    const sourceNode = nodes.find(n => n.id === link.source);
                    const targetNode = nodes.find(n => n.id === link.target);
                    const line = document.createElementNS(svgNS, 'line');
                    line.setAttribute('x1', sourceNode.x);
                    line.setAttribute('y1', sourceNode.y);
                    line.setAttribute('x2', targetNode.x);
                    line.setAttribute('y2', targetNode.y);
                    line.setAttribute('stroke', 'var(--border-color)');
                    line.setAttribute('stroke-width', 2);
                    line.id = `line-${link.source}-${link.target}`;
                    svg.appendChild(line);
                    elements[line.id] = {el: line, source: link.source, target: link.target};
                });

                nodes.forEach(node => {
                    const group = document.createElementNS(svgNS, 'g');
                    group.classList.add('kg-node');
                    group.id = `node-${node.id}`;
                    
                    const circle = document.createElementNS(svgNS, 'circle');
                    circle.setAttribute('cx', node.x);
                    circle.setAttribute('cy', node.y);
                    circle.setAttribute('r', node.r);
                    circle.setAttribute('fill', node.color);
                    circle.setAttribute('stroke', 'var(--border-color)');
                    circle.setAttribute('stroke-width', 2);
                    group.appendChild(circle);

                    const text = document.createElementNS(svgNS, 'text');
                    text.setAttribute('x', node.x);
                    text.setAttribute('y', node.y + 5);
                    text.setAttribute('fill', 'white');
                    text.setAttribute('font-size', '12');
                    text.setAttribute('font-weight', 'bold');
                    text.setAttribute('text-anchor', 'middle');
                    text.textContent = node.label;
                    group.appendChild(text);
                    
                    svg.appendChild(group);
                    elements[group.id] = {el: group, id: node.id};
                });

                Object.values(elements).forEach(item => {
                    if (item.el.classList.contains('kg-node')) {
                        item.el.addEventListener('mouseover', () => {
                            const nodeId = item.id;
                            Object.values(elements).forEach(elem => {
                                const isRelated = (elem.source === nodeId || elem.target === nodeId) || elem.id === nodeId;
                                elem.el.style.opacity = isRelated ? '1' : '0.2';
                            });
                        });
                        item.el.addEventListener('mouseout', () => {
                             Object.values(elements).forEach(elem => {
                                elem.el.style.opacity = '1';
                            });
                        });
                    }
                });
            }

            // --- Initial Load ---
            showPage(window.location.hash || '#dashboard');
        });
    </script>

</body>
</html>
